var detaliiPoze=[[],[],[],[],[],[]];
var img;

img = {"src":"../public/resurse/imagini/zelda.jpg", "titlu":"Zelda", "nota":"7.6"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/ittakestwo.jpg", "titlu":"It Takes Two", "nota":"8.1"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/stray.jpg", "titlu":"Stray", "nota":"8.4"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/unravel.jpg", "titlu":"Unravel", "nota":"7.6"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/NierAutomata.jpg", "titlu":"Nier: Automata", "nota":"8.7"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/EldenRing.jpg", "titlu":"Elden Ring", "nota":"9.6"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/cavestory.jpg", "titlu":"Cave Story", "nota":"9.0"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/gris.jpg", "titlu":"Gris", "nota":"8.4"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/inside.jpg", "titlu":"Inside", "nota":"8.7"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/DMC5.jpg", "titlu":"Devil May Cry 5", "nota":"7.6"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/lastofus.jpg", "titlu":"Last of Us", "nota":"8.9"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/rdd2.jpg", "titlu":"Red Dead Redemption", "nota":"8.8"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/hogwartslegacy.jpg", "titlu":"Hogwarts Legacy", "nota":"8.1"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/GOF5.jpg", "titlu":"God of War: Ragnarök", "nota":"8.7"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/lifeisstrange.jpg", "titlu":"Life is Strange", "nota":"7.5"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/deathstranding.jpg", "titlu":"Death Stranding", "nota":"8.3"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/acodyssey.png", "titlu":"AC: Odyssey", "nota":"7.4"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/norco.jpg", "titlu":"Norco", "nota":"9.0"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/control.jpg", "titlu":"Control", "nota":"8.2"}; detaliiPoze[0].push(img);
img = {"src":"../public/resurse/imagini/aplaguetale.jpg", "titlu":"A Plague Tale", "nota":"7.6"}; detaliiPoze[0].push(img);

img = {"src":"../public/resurse/imagini/DMC5.jpg", "titlu":"Devil May Cry 5", "nota":"9.2"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/doometernal.jpg", "titlu":"DOOM Eternal", "nota":"7.6"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/NierAutomata.jpg", "titlu":"Nier: Automata", "nota":"8.7"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/EldenRing.jpg", "titlu":"Elden Ring", "nota":"9.6"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/bloodborne.jpg", "titlu":"BloodBorne", "nota":"8.4"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/acodyssey.png", "titlu":"AC: Odyssey", "nota":"7.6"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/bayoneta2.png", "titlu":"Bayoneta 2", "nota":"8.2"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/witcher3.jpg", "titlu":"Witcher 3", "nota":"8.6"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/GOF5.jpg", "titlu":"God of War: Ragnarök", "nota":"8.7"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/teamforteress2.jpg", "titlu":"Team Forteress 2", "nota":"8.7"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/left4dead2.jpg", "titlu":"Left 4 Dead 2", "nota":"8.9"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/titanfall2.jpg", "titlu":"Tital Fall 2", "nota":"7.6"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/doom.jpg", "titlu":"DOOM", "nota":"8.1"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/lastofus.jpg", "titlu":"Last of Us", "nota":"8.9"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/destiny2.jpg", "titlu":"Destiny 2", "nota":"9.0"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/mg5.jpg", "titlu":"Metal Gear 5", "nota":"8.3"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/GOF4.jpg", "titlu":"God of War", "nota":"9.0"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/DMC3.jpg", "titlu":"Devil May Cry 3", "nota":"8.1"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/DS2.jpg", "titlu":"Dark Souls 2", "nota":"7.5"}; detaliiPoze[2].push(img);
img = {"src":"../public/resurse/imagini/rdd2.jpg", "titlu":"Red Dead Redemption", "nota":"8.8"}; detaliiPoze[2].push(img);

img = {"src":"../public/resurse/imagini/destiny2.jpg", "titlu":"Destiny 2", "nota":"9.0"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/doometernal.jpg", "titlu":"DOOM Eternal", "nota":"7.3"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/apex.jpg", "titlu":"Apex Legends", "nota":"8.7"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/teamforteress2.jpg", "titlu":"Team Forteress 2", "nota":"8.7"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/left4dead2.jpg", "titlu":"Left 4 Dead 2", "nota":"8.9"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/titanfall2.jpg", "titlu":"Tital Fall 2", "nota":"7.6"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/doom.jpg", "titlu":"DOOM", "nota":"8.1"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/cod.jpg", "titlu":"Call of Duty", "nota":"9.6"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/valorant.jpg", "titlu":"Valorant", "nota":"8.4"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/pubg.jpg", "titlu":"PUBG", "nota":"7.6"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/tarkov.jpg", "titlu":"Escape from Tarkov", "nota":"8.2"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/battlefield1.jpg", "titlu":"Battlefield 1", "nota":"8.6"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/halflife2.jpg", "titlu":"HalfLife 2", "nota":"8.7"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/rainbowssixsiege.jpg", "titlu":"Rainbows Six Siege", "nota":"8.9"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/mg5.jpg", "titlu":"Metal Gear 5", "nota":"8.3"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/csgo.jpg", "titlu":"CS:GO", "nota":"9.0"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/halo3.jpg", "titlu":"Halo 3", "nota":"8.1"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/farcry3.jpg", "titlu":"Far cry 3", "nota":"7.5"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/borderlands2.jpg", "titlu":"Borderlands 2", "nota":"8.8"}; detaliiPoze[3].push(img);
img = {"src":"../public/resurse/imagini/huntshowdown.jpg", "titlu":"Hunt: Showdown", "nota":"9.0"}; detaliiPoze[3].push(img);

img = {"src":"../public/resurse/imagini/tekken8.jpg", "titlu":"Tekken 8", "nota":"9.3"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/brawlhalla.jpg", "titlu":"Brawlhalla", "nota":"8.9"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/tekken7.jpg", "titlu":"Tekken 7","nota":"8.4"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/streetfighter6.jpg", "titlu":"Street Fighter 6", "nota":"9.0"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/supersmashbros.jpg", "titlu":"Super Smash Bros", "nota":"8.7"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/mk11.jpg", "titlu":"Mortal Kombat XI", "nota":"7.6"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/ufc4.jpg", "titlu":"UFC 4", "nota":"8.3"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/marvelvscapcom3.jpg", "titlu":"Marvel vs Capcom 3", "nota":"8.7"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/injustice2.jpg", "titlu":"Injustice 2", "nota":"8.6"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/kof13.jpg", "titlu":"King of Fighters XIII", "nota":"7.6"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/wwe2022.jpg", "titlu":"WWE 2022", "nota":"8.8"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/guiltygear.jpg", "titlu":"Guilty Gear Strive", "nota":"8.1"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/mk10.jpg", "titlu":"Mortal Kombat X", "nota":"8.9"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/streetfighter5.jpg", "titlu":"Street Figther 5", "nota":"7.2"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/dragonballfigtherz.jpg", "titlu":"Dragon Ball FigtherZ", "nota":"7.5"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/kof15.jpg", "titlu":"King of Fighters XV", "nota":"8.3"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/injustice.jpg", "titlu":"Injustice", "nota":"9.0"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/ufc3.jpg", "titlu":"UFC 3", "nota":"8.1"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/mk9.jpg", "titlu":"Mortal Kombat 9", "nota":"7.4"}; detaliiPoze[1].push(img);
img = {"src":"../public/resurse/imagini/streetfighter4.jpg", "titlu":"Street Figther 4", "nota":"8.2"}; detaliiPoze[1].push(img);

img = {"src":"../public/resurse/imagini/hades.jpg", "titlu":"Hades", "nota":"9.3"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/deadcells.jpg", "titlu":"Dead cells", "nota":"8.9"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/hollowknight.jpg", "titlu":"Hollow Knight", "nota":"8.7"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/gris.jpg", "titlu":"Gris", "nota":"8.4"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/inside.jpg", "titlu":"Inside", "nota":"8.7"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/noita.jpg", "titlu":"Noita", "nota":"7.6"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/littlenigthmares2.jpg", "titlu":"Little Nightmares 2", "nota":"8.3"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/supermeatboy.jpg", "titlu":"Super Meat Boy", "nota":"8.7"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/celeste.jpg", "titlu":"Celeste", "nota":"8.6"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/braid.jpg", "titlu":"Braid", "nota":"7.6"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/cuphead.jpg", "titlu":"Cup Head", "nota":"8.8"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/childoflight.jpg", "titlu":"Child of Light", "nota":"8.1"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/brawlhalla.jpg", "titlu":"Brawlhalla", "nota":"8.9"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/cavestory.jpg", "titlu":"Cave Story", "nota":"9.0"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/Journey.jpg", "titlu":"Journey", "nota":"7.5"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/limbo.jpg", "titlu":"Limbo", "nota":"8.3"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/rayman.jpg", "titlu":"Rayman", "nota":"9.0"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/rumbleverse.jpg", "titlu":"Rumbleverse", "nota":"8.1"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/unravel.jpg", "titlu":"Unravel", "nota":"7.6"}; detaliiPoze[4].push(img);
img = {"src":"../public/resurse/imagini/saltandsacrifice.jpg", "titlu":"Salt and Sacrifice", "nota":"8.2"}; detaliiPoze[4].push(img);

img = {"src":"../public/resurse/imagini/hades.jpg", "titlu":"Hades", "nota":"9.3"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/DMC5.jpg", "titlu":"Devil May Cry 5", "nota":"7.6"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/NierAutomata.jpg", "titlu":"Nier: Automata", "nota":"8.7"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/bloodborne.jpg", "titlu":"BloodBorne", "nota":"8.4"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/hollowknight.jpg", "titlu":"Hollow Knight", "nota":"8.7"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/deadcells.jpg", "titlu":"Dead cells", "nota":"8.9"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/EldenRing.jpg", "titlu":"Elden Ring", "nota":"9.6"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/GOF5.jpg", "titlu":"God of War: Ragnarök", "nota":"8.7"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/witcher3.jpg", "titlu":"Witcher 3", "nota":"8.6"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/zelda.jpg", "titlu":"Zelda", "nota":"7.6"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/rdd2.jpg", "titlu":"Red Dead Redemption", "nota":"8.8"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/portal2.jpg", "titlu":"Portal 2", "nota":"8.1"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/lastofus.jpg", "titlu":"Last of Us", "nota":"8.9"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/cavestory.jpg", "titlu":"Cave Story", "nota":"9.0"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/DS2.jpg", "titlu":"Dark Souls 2", "nota":"7.5"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/mg5.jpg", "titlu":"Metal Gear 5", "nota":"8.3"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/GOF4.jpg", "titlu":"God of War", "nota":"9.0"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/DMC3.jpg", "titlu":"Devil May Cry 3", "nota":"8.1"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/acodyssey.png", "titlu":"AC: Odyssey", "nota":"7.4"}; detaliiPoze[5].push(img);
img = {"src":"../public/resurse/imagini/bayoneta2.png", "titlu":"Bayoneta 2", "nota":"8.2"}; detaliiPoze[5].push(img);



/* ----------------------------- */

const rel = document.getElementById("logo-div");
rel.onclick = refresh;

function refresh(){
    window.location.href = "index.html";
}

const searchSvg = document.querySelector(".search-svg");
searchSvg.onclick=refresh;


/* ----------------------------- */

const butonMeniu = document.getElementById("buton-meniu");
const butonX = document.getElementById("buton-x");

butonMeniu.onclick = openNav;
butonX.onclick = closeNav;


function openNav(){
    document.querySelector("nav > ul.meniu").style.width = "300px";
}

function closeNav() {
    document.querySelector("nav > ul.meniu").style.width = "0";
}




var meniu = document.querySelectorAll(".submeniu>li");
const container = document.querySelector(".container");

for(let m of meniu){
    m.addEventListener("click",redirect);
}

function redirect(){
    window.location.href = "categorii.html?categorie=" + this.textContent;
}



window.onload=function(){

    fetch("jocuri.json")
        .then(response => response.json())
        .then(json => {
            var butonRandom = document.querySelector(".buton-random");
            butonRandom.onclick= function(){
                var numar = Math.floor(Math.random()*json.length);
                window.location.href = "joc?joc=" + json[numar].titlu;           
            }
        });    

    var i = 0 ;
    var url = new URLSearchParams(window.location.search);
    var categorie = url.get('categorie');
    if(categorie == 'Aventură')
        i=0;
    if(categorie == 'Lupte')
        i=1;
    if(categorie == 'Acțiune')
        i=2;
    if(categorie == 'FPS')
        i=3;
    if(categorie == 'Platformer')
        i=4;
    if(categorie == 'Single-player')
        i=5;

    for(let ob of detaliiPoze[i]){
        let sursa=ob["src"];
        let titlu=ob["titlu"];
        let nota=ob["nota"];
        let culoareNota=culoareSpan(nota);
        const joc = document.createElement("div");
        joc.className="slide";
        joc.innerHTML= `
            <img src="${sursa}" draggable="false" alt="${titlu}">
            <div class="slide-info">
                <h3>${titlu}</h3>
                <span class="${culoareNota}">${nota}</span>
            </div>
        `;
        joc.onclick=function(){window.location.href = "joc?joc=" + titlu;};
        container.appendChild(joc);}


    if(localStorage.getItem('lightMode'))
        var lightMode = localStorage.getItem('lightMode');

    const butonLightMode = document.querySelector('.buton-lightmode');
    const enable = function(){
        document.body.classList.add("lightmode");
        localStorage.setItem('lightMode', 'enabled');
        document.querySelector("#user").style.filter = "invert(0%)";
        document.querySelector(".buton-lightmode").style.filter = "invert(0%)";
        document.querySelector(".buton-random").style.filter = "invert(0%)";
        document.querySelector("#logo").style.filter = "brightness(0)";
        document.querySelector(".search-svg").style.filter = "invert(0%)";
    }
    const disable = function(){
        document.body.classList.remove("lightmode");
        document.querySelector("#user").style.filter = "invert(100%)";
        document.querySelector(".buton-lightmode").style.filter = "invert(100%)";
        document.querySelector(".buton-random").style.filter = "invert(100%)";
        document.querySelector("#logo").style.filter = "brightness(5)";
        document.querySelector(".search-svg").style.filter = "invert(100%)";
        localStorage.setItem('lightMode', 'disabled');
    }
    if (lightMode == 'enabled')
        enable();
    
    butonLightMode.addEventListener('click', function(){
        lightMode=localStorage.getItem("lightMode");
        if (lightMode !== 'enabled')
            enable();
        else if(lightMode ==='enabled')
            disable();
    })
    
}

function culoareSpan(nota){
    if(nota>=9){
        return 'green';
    }
    else if(nota<=7.5)
        return 'red';
    else
        return 'yellow';
}

user = document.getElementById('user');
        user.onclick=function(){window.location.href = "login"};

        var inputCautare = document.getElementById("search");
        inputCautare.addEventListener("keydown",function(event){
            event.stopPropagation();
            var indice = -1;
            if(event.key==='Enter'){
                var deCautat=inputCautare.value;
                fetch("jocuri.json")
                .then(response => response.json())
                .then(json => {
                    for(let i = 0; i<json.length; i++)
                    {
                        if(deCautat==json[i].titlu){
                            indice=i; 
                            break;
                        }
                    }
                    if(indice!=-1)
                        {
                            window.location.href = "joc?joc=" + json[indice].titlu;  
                        }
                    else{
                        alert("Jocul nu exista");
                    }
                });
            }
        });